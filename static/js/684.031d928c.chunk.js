"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[684],{684:function(t,s,n){n.r(s),n.d(s,{ProfileContainerWithRouter:function(){return W}});var e=n(1413),r=n(5671),i=n(3144),a=n(136),o=n(5716),u=n(7313),c=n(1084),l=n(9038),d=n(3916),f=n(7628),h=n(5302),p=n(5323),v=(0,p.P1)((function(t){return t.profileData.usersProfile}),(function(t){return t})),x=(0,p.P1)((function(t){return t.auth.data.id}),(function(t){return t})),j=(0,p.P1)((function(t){return t.profileData.status}),(function(t){return t})),m="Profile_profile__9WUSh",g=n(5987),b="ProfileInfo_descriptionBlock__Hor8M",k="ProfileInfo_usersPhoto__2xh1Q",C=n(1549),P=n(6213),_=n(9439),Z=n(6417),w=function(t){var s=(0,u.useState)(!1),n=(0,_.Z)(s,2),e=n[0],r=n[1],i=(0,u.useState)(t.status),a=(0,_.Z)(i,2),o=a[0],c=a[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,Z.jsx)("div",{children:t.userID===t.authUserId?e?(0,Z.jsx)("div",{children:(0,Z.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateUserStatusTC(o)},value:o})}):(0,Z.jsxs)("div",{children:["Current status: ",(0,Z.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"no status yet!"})]}):(0,Z.jsxs)("div",{children:["Current status: ",(0,Z.jsx)("span",{children:t.status||"no status yet!"})]})})},y=["profile"],D=function(t){var s,n=t.profile,r=(0,g.Z)(t,y);return n?(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:b,children:[(0,Z.jsx)("img",{src:null!==(s=n.photos.small)&&void 0!==s?s:P,className:k,alt:""}),(0,Z.jsxs)("div",{children:["ID: ",n.userId]}),(0,Z.jsxs)("div",{children:["Name: ",n.fullName]}),(0,Z.jsx)(w,(0,e.Z)((0,e.Z)({},r),{},{userID:n.userId})),n.aboutMe&&(0,Z.jsxs)("div",{children:["About: ",n.aboutMe]}),n.contacts.facebook&&(0,Z.jsxs)("div",{children:["facebook: ",n.contacts.facebook]}),n.contacts.website&&(0,Z.jsxs)("div",{children:["website: ",n.contacts.website]}),n.contacts.vk&&(0,Z.jsxs)("div",{children:["vk: ",n.contacts.vk]}),n.contacts.twitter&&(0,Z.jsxs)("div",{children:["twitter: ",n.contacts.twitter]}),n.contacts.instagram&&(0,Z.jsxs)("div",{children:["instagram: ",n.contacts.instagram]}),n.contacts.youtube&&(0,Z.jsxs)("div",{children:["youtube: ",n.contacts.youtube]}),n.contacts.github&&(0,Z.jsxs)("div",{children:["github: ",n.contacts.github]}),n.contacts.mainLink&&(0,Z.jsxs)("div",{children:["mainLink: ",n.contacts.mainLink]})]})}):(0,Z.jsx)(C.Z,{})},I="MyPosts_postsBlock__iXC9i",S="MyPosts_posts__PB8Xs",U="Post_item__sZBXS";function M(t){return(0,Z.jsxs)("div",{className:U,children:[(0,Z.jsx)("img",{src:"https://w7.pngwing.com/pngs/42/801/png-transparent-creative-girls-avatar-art-girls-avatar-star-star-girl-avatar.png",alt:""}),t.message,(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:"like"})," - ",t.likeCount]})]})}var T=n(7410),N=n(818),A=n(8336),F=n(4415),B=u.memo((function(t){var s=(0,u.useMemo)((function(){return t.profileData.postData.map((function(t){return(0,Z.jsx)(M,{message:t.message,id:t.id,likeCount:t.likeCount},t.id)})).reverse()}),[t.profileData.postData]);return(0,Z.jsxs)("div",{className:I,children:[(0,Z.jsx)("h3",{children:"My posts"}),(0,Z.jsx)(L,{onSubmit:function(s){t.addPost(s.postText)}}),(0,Z.jsx)("div",{className:S,children:s})]})})),$=(0,A.D)(10),L=(0,N.Z)({form:"MyPostForm"})((function(t){return(0,Z.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(T.Z,{validate:[A.C,$],name:"postText",component:F.gx,placeholder:"write whatever comes to mind"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)("button",{children:"Add Post"})})]})})),X=(0,c.$j)((function(t){return{profileData:t.profileData}}),(function(t){return{addPost:function(s){t((0,h.Pi)(s))}}}))(B);function E(t){var s;return(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)(D,(0,e.Z)({},t)),(null===(s=t.profile)||void 0===s?void 0:s.userId)===t.authUserId&&(0,Z.jsx)(X,{})]})}var Q=function(t){(0,a.Z)(n,t);var s=(0,o.Z)(n);function n(){var t;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=s.call.apply(s,[this].concat(a))).render=function(){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(E,(0,e.Z)({},t.props))})},t}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props.router.params["*"];""===t&&((t=this.props.authUserId)||this.props.router.navigation("/login")),this.props.getUserProfileTC(t),this.props.getUserStatusTC(t)}}]),n}(u.Component),W=(0,l.qC)((0,c.$j)((function(t){return{profile:v(t),authUserId:x(t),status:j(t)}}),{getUserProfileTC:h.d$,getUserStatusTC:h.Qw,updateUserStatusTC:h.wM}),f.F,d.E)(Q)},7628:function(t,s,n){n.d(s,{F:function(){return l}});var e=n(1413),r=n(5987),i=n(7890),a=(n(7313),n(1084)),o=n(6417),u=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return(0,a.$j)(c)((function(s){var n=s.isAuth,a=(0,r.Z)(s,u);return n?(0,o.jsx)(t,(0,e.Z)({},a)):(0,o.jsx)(i.Fg,{to:"/login"})}))}},6213:function(t,s,n){t.exports=n.p+"static/media/userr.4c389e340f848dd4a1c2.png"}}]);